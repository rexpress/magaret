<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Docker Based Regular Expression Tester</title>
		<script src="data.js"></script>
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;subset=latin" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
		<script>
			window.requestAnimFrame = (function () {
				return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {
					window.setTimeout(callback, 1000 / 60);
				};
			})();
			window.onload = function () {
				var ctx = canvas.getContext('2d'),
					w, h;
				canvas.width = w = window.innerWidth * 1.1;
				canvas.height = h = window.innerHeight * 1;
				var osc1 = new osc(),
					osc2 = new osc(),
					osc3 = new osc(),
					horizon = h * 0.4;
				count = 40, step = Math.ceil(w / count), buffer = new ArrayBuffer(count * 4), points = new Float32Array(buffer);
				osc1.max = 35;
				osc2.max = 5;
				osc2.speed = 0.03;
				osc2.max = 5;
				osc2.speed = 0.015;

				function fill() {
					for (var i = 0; i < count; i++) {
						points[i] = mixer(osc1, osc2, osc3);
					}
				}
				fill();
				ctx.lineWidth = 10;
				ctx.strokeStyle = '#00ca9b';
				ctx.fillStyle = '#00af86';

				function loop() {
					var i;
					for (i = 0; i < count - 1; i++) {
						points[i] = points[i + 1];
					}
					points[count - 1] = mixer(osc1, osc2, osc3);
					ctx.clearRect(0, 0, w, h);
					ctx.beginPath();
					ctx.moveTo(-5, points[0]);
					for (i = 1; i < count; i++) {
						ctx.lineTo(i * step, points[i]);
					}
					ctx.lineTo(w, h);
					ctx.lineTo(-5, h);
					ctx.lineTo(-5, points[1]);
					ctx.stroke();
					ctx.fill();
				}

				function osc() {
					this.variation = 0.4;
					this.max = 200;
					this.speed = 0.02;
					var me = this,
						a = 0,
						max = getMax();
					this.getAmp = function () {
						a += this.speed;
						if (a >= 2.0) {
							a = 0;
							max = getMax();
						}
						return max * Math.sin(a * Math.PI);
					}

					function getMax() {
						return Math.random() * me.max * me.variation + me.max * (1 - me.variation);
					}
					return this;
				}

				function mixer() {
					var d = arguments.length,
						i = d,
						sum = 0;
					if (d < 1) return 0;
					while (i--) sum += arguments[i].getAmp();
					return sum / d + horizon;
				}(function animloop() {
					requestAnimFrame(animloop);
					loop();
				})();
		}
	</script>
	</head>
	<body>
		<header class="_header">
			<div id="logo">
				<a href="#">
					<div id="logo_content"></div>
				</a>
			</div>
			<nav class="_navbar">
				<a class="nav-item nav-select" href="javascript:void(0);" id="nav_test_regex" title="Test Regex">Test Regex</a>
				<a class="nav-item" href="javascript:void(0);" id="nav_history" title="History">History</a>
				<a class="nav-item" href="javascript:void(0);" id="nav_webpage" title="WebPage">Official Page</a>
			</nav>
		</header>
		<section class="_sidebar">
			<form class="_search" role="search">
				<input type="search" style="" disabled class="_search-input" placeholder="Searchâ€¦" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="30" aria-label="Search">
				<div class="_search-tag"></div>
			</form>
			<div id="sidebar-navi">
		</div>
		</section>
		<div class="_container" style="overflow: hidden;">
			<div id="wrapper" style="height: 0%;">
				<div style="
			font-size: 3rem;
			align-content: center;
			text-align: center;
			color: #00af86;
			font-weight: 100;
			">Experience the Powerful Regular Expression Tester</div>
			</div>
			<canvas id="canvas" width="1249" height="723"></canvas>
		</div>
		<script src="script.js"></script>
	</body>
</html>